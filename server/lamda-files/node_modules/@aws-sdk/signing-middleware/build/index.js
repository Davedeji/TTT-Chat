"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
function signingMiddleware(signer) {
    var _this = this;
    return function (next) { return function (args) { return tslib_1.__awaiter(_this, void 0, void 0, function () {
        var _a, _b, _c;
        return tslib_1.__generator(this, function (_d) {
            switch (_d.label) {
                case 0:
                    _a = next;
                    _b = [{}, args];
                    _c = {};
                    return [4 /*yield*/, signer.sign(args.request)];
                case 1: return [2 /*return*/, _a.apply(void 0, [tslib_1.__assign.apply(void 0, _b.concat([(_c.request = _d.sent(), _c)]))])];
            }
        });
    }); }; };
}
exports.signingMiddleware = signingMiddleware;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBT0EsU0FBZ0IsaUJBQWlCLENBSS9CLE1BQXFCO0lBSnZCLGlCQWNDO0lBVEMsT0FBTyxVQUNMLElBQTRDLElBQ0QsT0FBQSxVQUMzQyxJQUE2Qzs7Ozs7b0JBRTdDLEtBQUEsSUFBSSxDQUFBOzhCQUNDLElBQUk7O29CQUNFLHFCQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFBO3dCQUYxQyxzQkFBQSw2REFFRSxVQUFPLEdBQUUsU0FBK0IsVUFDeEMsRUFBQTs7O1NBQUEsRUFOeUMsQ0FNekMsQ0FBQztBQUNQLENBQUM7QUFkRCw4Q0FjQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEZpbmFsaXplSGFuZGxlcixcbiAgRmluYWxpemVIYW5kbGVyQXJndW1lbnRzLFxuICBGaW5hbGl6ZU1pZGRsZXdhcmUsXG4gIFJlcXVlc3RTaWduZXJcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaWduaW5nTWlkZGxld2FyZTxcbiAgSW5wdXQgZXh0ZW5kcyBvYmplY3QsXG4gIE91dHB1dCBleHRlbmRzIG9iamVjdCxcbiAgU3RyZWFtID0gVWludDhBcnJheVxuPihzaWduZXI6IFJlcXVlc3RTaWduZXIpOiBGaW5hbGl6ZU1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dCwgU3RyZWFtPiB7XG4gIHJldHVybiAoXG4gICAgbmV4dDogRmluYWxpemVIYW5kbGVyPElucHV0LCBPdXRwdXQsIFN0cmVhbT5cbiAgKTogRmluYWxpemVIYW5kbGVyPElucHV0LCBPdXRwdXQsIFN0cmVhbT4gPT4gYXN5bmMgKFxuICAgIGFyZ3M6IEZpbmFsaXplSGFuZGxlckFyZ3VtZW50czxJbnB1dCwgU3RyZWFtPlxuICApOiBQcm9taXNlPE91dHB1dD4gPT5cbiAgICBuZXh0KHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICByZXF1ZXN0OiBhd2FpdCBzaWduZXIuc2lnbihhcmdzLnJlcXVlc3QpXG4gICAgfSk7XG59XG4iXX0=